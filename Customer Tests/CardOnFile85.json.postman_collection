{
	"id": "a62ec0cd-d78a-ada8-b903-49c9ed80f830",
	"name": "CardOnFile85",
	"description": "Since card on file changes between 846 and 85, we need different sets of tests for each.\n\nHere we will\n1) Add a new customer\n2) Add a card to that customer\n3) Add a 2nd card to that customer\n4) Check that both cards were added with the correct data\n5) Delete the first card\n6) Verify the 2nd card is left with the correct data",
	"order": [
		"b360eea5-a07c-31a7-509e-67c2c7f4fb4b",
		"79f9fce2-754f-f830-4ad0-d2ea8354b996",
		"2db3559d-3bf8-ef15-9e2f-e968013b34ab",
		"9a55d134-115a-e24d-e650-98ded35dfbc1",
		"e161489e-15aa-e9d8-0895-9d9740e17794",
		"69514a0b-adc4-1a0b-b052-7aa452340513",
		"ec075c0e-2a1f-23eb-e8a4-6d33fe91261a",
		"ca08ac10-c119-c4ce-1d2e-445f21dfaa3e",
		"5503102b-ff78-3292-5d1b-dca5d12057a0",
		"f0ae5b5c-f9c1-7af4-1a39-f47a0809ccb5",
		"42acdc4e-1b97-db08-1d77-4551837f5700"
	],
	"folders": [],
	"timestamp": 1433519192586,
	"owner": "43287",
	"remoteLink": "",
	"public": false,
	"createdAt": null,
	"updatedAt": null,
	"synced": false,
	"requests": [
		{
			"id": "2db3559d-3bf8-ef15-9e2f-e968013b34ab",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{CustNo}}/CARD",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "tests[\"Successful POST request\"] = responseCode.code === 201;\n\nvar respData = JSON.parse(responseBody);\ntests[\"Reference is set\"] = respData.reference === \"Customer\";\ntests[\"Customer number is returned correctly\"] = respData.CUST_NO === environment.CustNo;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433787057091,
			"name": "POST CardOnFile 2",
			"description": "",
			"collectionId": "a62ec0cd-d78a-ada8-b903-49c9ed80f830",
			"rawModeData": "{\"AR_CUST_CARD\":{ \n  \n  \"CARD_DESCR\": \"Test2\",\n  \"DEFAULT_CARD\": \"N\",\n  \"PAY_COD\": \"VISA\",\n  \"CARD_EXP_DAT\": \"1/1/2018\",\n  \"CARD_NO\": \"4275330012345675\",\n  \"CARD_NAM\": \"{{CardName2}}\"\n}}"
		},
		{
			"id": "42acdc4e-1b97-db08-1d77-4551837f5700",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: {{Content-Type}}\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{CustNo}}",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "GET",
			"data": [],
			"dataMode": "params",
			"version": 2,
			"tests": "var respData = JSON.parse(responseBody);\ntests[\"Status code is 200\"] = responseCode.code === 200;\n\nvar Cards = respData.AR_CUST.AR_CUST_CARDS;\n\ntests[\"1 Card Left\"] = Cards.length === 1;\n\ntests[\"Card Customer Number\"] = Cards[0].CUST_NO === environment.CustNo;\ntests[\"Card Name\"] = Cards[0].CARD_NAM === data.CardName1;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1477588574133,
			"name": "Verify Card Deleted",
			"description": "",
			"collectionId": "a62ec0cd-d78a-ada8-b903-49c9ed80f830"
		},
		{
			"id": "5503102b-ff78-3292-5d1b-dca5d12057a0",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{CustNo}}/CARD?CardSeqNo={{CardSeqNo}}",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "PATCH",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "tests[\"Successful POST request\"] = responseCode.code === 201;\n\nvar respData = JSON.parse(responseBody);\ntests[\"Reference is set\"] = respData.reference === \"Customer\";\ntests[\"Customer number is returned correctly\"] = respData.CUST_NO === environment.CustNo;\n\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1477513625760,
			"name": "PATCH Edit Default  CardOnFile ",
			"description": "",
			"collectionId": "a62ec0cd-d78a-ada8-b903-49c9ed80f830",
			"rawModeData": "{\"AR_CUST_CARD\":{ \n  \n  \"CARD_DESCR\": \"New Default\",\n  \"DEFAULT_CARD\": \"Y\",\n  \"PAY_COD\": \"VISA\",\n  \"CARD_EXP_DAT\": \"1/1/2020\",\n  \"CARD_NO\": \"4275330012345675\",\n  \"CARD_NAM\": \"{{CardName2}}\"\n}}"
		},
		{
			"id": "69514a0b-adc4-1a0b-b052-7aa452340513",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: {{Content-Type}}\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{CustNo}}",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "GET",
			"data": [],
			"dataMode": "params",
			"version": 2,
			"tests": "var respData = JSON.parse(responseBody);\ntests[\"Status code is 200\"] = responseCode.code === 200;\n\nvar Cards = respData.AR_CUST.AR_CUST_CARDS;\n\ntests[\"2 Cards Added\"] = Cards.length === 2;\n\ntests[\"Card1 Customer Number\"] = Cards[0].CUST_NO === environment.CustNo;\ntests[\"Card1 Name\"] = Cards[0].CARD_NAM === data.CardName1;\ntests[\"Card1 Number has no value\"] = !responseBody.has(Cards[0].CARD_NO);\n\ntests[\"Card2 Customer Number\"] = Cards[1].CUST_NO === environment.CustNo;\ntests[\"Card2 Name\"] = Cards[1].CARD_NAM === data.CardName2;\ntests[\"Card2 Number has no value\"] = !responseBody.has(Cards[1].CARD_NO);\n\npostman.setEnvironmentVariable(\"CardSeqNo\", Cards[0].CARD_SEQ_NO);",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433788098181,
			"name": "Verify Card Info",
			"description": "",
			"collectionId": "a62ec0cd-d78a-ada8-b903-49c9ed80f830"
		},
		{
			"id": "79f9fce2-754f-f830-4ad0-d2ea8354b996",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{CustNo}}/CARD",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "tests[\"Successful POST request\"] = responseCode.code === 201;\n\nvar respData = JSON.parse(responseBody);\ntests[\"Reference is set\"] = respData.reference === \"Customer\";\ntests[\"Customer number is returned correctly\"] = respData.CUST_NO === environment.CustNo;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433787043259,
			"name": "POST CardOnFile",
			"description": "",
			"collectionId": "a62ec0cd-d78a-ada8-b903-49c9ed80f830",
			"rawModeData": "{\"AR_CUST_CARD\":{ \n  \n  \"CARD_DESCR\": \"Test1\",\n  \"DEFAULT_CARD\": \"N\",\n  \"PAY_COD\": \"VISA\",\n  \"CARD_EXP_DAT\": \"1/1/2018\",\n  \"CARD_NO\": \"4275330012345675\",\n  \"CARD_NAM\": \"{{CardName1}}\"\n}}"
		},
		{
			"id": "9a55d134-115a-e24d-e650-98ded35dfbc1",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{CustNo}}//CARD",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "tests[\"Successful POST request\"] = responseCode.code === 400;\n\nvar respData = JSON.parse(responseBody);\ntests[\"Reference is not set\"] = respData.reference !== \"Customer\";\ntests[\"Customer number is not returned correctly\"] = respData.CUST_NO !== environment.CustNo;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1477921172003,
			"name": "POST Non Credit Card",
			"description": "",
			"collectionId": "a62ec0cd-d78a-ada8-b903-49c9ed80f830",
			"rawModeData": "{\"AR_CUST_CARD\":{ \n  \n  \"CARD_DESCR\": \"NonCreditCard\",\n  \"DEFAULT_CARD\": \"N\",\n  \"PAY_COD\": \"VISA\",\n  \"CARD_EXP_DAT\": \"1/1/2018\",\n  \"CARD_NO\": \"123453001234567\",\n  \"CARD_NAM\": \"{{CardName2}}\"\n}}"
		},
		{
			"id": "b360eea5-a07c-31a7-509e-67c2c7f4fb4b",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/Customer",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "var respData = JSON.parse(responseBody);\n\ntests[\"Successful POST request\"] = responseCode.code === 201;\n\npostman.setEnvironmentVariable(\"CustNo\", respData.CUST_NO);",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1477339825803,
			"name": "POST Customer",
			"description": "",
			"collectionId": "a62ec0cd-d78a-ada8-b903-49c9ed80f830",
			"rawModeData": "{\r\n  \"AR_CUST\": {\r\n    \"CUST_TYP\": \"C\",\r\n    \"NAM\": \"Happy Gilmore\",\r\n    \"FST_NAM\": \"Happy\",\r\n    \"LST_NAM\": \"Gilmore\",\r\n    \"SALUTATION\": \"Mr.\",\r\n    \"CUST_NAM_TYP\": \"P\",\r\n    \"SLS_REP\": \"MGR\",\r\n    \"STR_ID\": \"{{STR_ID}}\"\r\n  }\r\n}"
		},
		{
			"id": "ca08ac10-c119-c4ce-1d2e-445f21dfaa3e",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{CustNo}}/CARD?CardSeqNo={{CardSeqNo}}",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "PATCH",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "tests[\"Successful POST request\"] = responseCode.code === 201;\n\nvar respData = JSON.parse(responseBody);\ntests[\"Reference is set\"] = respData.reference === \"Customer\";\ntests[\"Customer number is returned correctly\"] = respData.CUST_NO === environment.CustNo;\n\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1477513186252,
			"name": "PATCH CardOnFile Valid ExpDate",
			"description": "",
			"collectionId": "a62ec0cd-d78a-ada8-b903-49c9ed80f830",
			"rawModeData": "{\"AR_CUST_CARD\":{ \n  \n  \"CARD_DESCR\": \"Edit Exp Date\",\n  \"DEFAULT_CARD\": \"N\",\n  \"PAY_COD\": \"VISA\",\n  \"CARD_EXP_DAT\": \"1/1/2020\",\n  \"CARD_NO\": \"4275330012345675\",\n  \"CARD_NAM\": \"{{CardName2}}\"\n}}"
		},
		{
			"id": "e161489e-15aa-e9d8-0895-9d9740e17794",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{CustNo}}/CARD",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "tests[\"Successful POST request\"] = responseCode.code === 500;\n\nvar respData = JSON.parse(responseBody);\ntests[\"Reference is set\"] = respData.reference !== \"Customer\";\ntests[\"Customer number is returned correctly\"] = respData.CUST_NO !== environment.CustNo;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1477701155709,
			"name": "POST CardOnFile without Paycode",
			"description": "",
			"collectionId": "a62ec0cd-d78a-ada8-b903-49c9ed80f830",
			"rawModeData": "{\"AR_CUST_CARD\":{ \n  \n  \"CARD_DESCR\": \"Test2\",\n  \"DEFAULT_CARD\": \"N\",\n  \"CARD_EXP_DAT\": \"1/1/2018\",\n  \"CARD_NO\": \"4275330012345675\",\n  \"CARD_NAM\": \"{{CardName2}}\"\n}}"
		},
		{
			"id": "ec075c0e-2a1f-23eb-e8a4-6d33fe91261a",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{custNo}}/CARD?CardSeqNo={{CardSeqNo}}",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "PATCH",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "tests[\"Successful POST request\"] = responseCode.code === 500;\n\nvar respData = JSON.parse(responseBody);\ntests[\"Reference is not set\"] = respData.reference !== \"Customer\";\ntests[\"Customer number is not returned correctly\"] = respData.CUST_NO !== environment.CustNo;\n\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1477673400222,
			"name": "PATCH  CardOnFile Invalid ExpDate ",
			"description": "",
			"collectionId": "a62ec0cd-d78a-ada8-b903-49c9ed80f830",
			"rawModeData": "{\"AR_CUST_CARD\":{ \n  \n  \"CARD_DESCR\": \"Edit Exp Date\",\n  \"DEFAULT_CARD\": \"N\",\n  \"PAY_COD\": \"VISA\",\n  \"CARD_EXP_DAT\": \"1/1/2015\",\n  \"CARD_NO\": \"4275330012345675\",\n  \"CARD_NAM\": \"{{CardName}}\"\n}}"
		},
		{
			"id": "f0ae5b5c-f9c1-7af4-1a39-f47a0809ccb5",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{CustNo}}/CARD?CardSeqNo={{CardSeqNo}}",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "DELETE",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "tests[\"Successful POST request\"] = responseCode.code === 201;\n\nvar respData = JSON.parse(responseBody);\ntests[\"Reference is set\"] = respData.reference === \"Customer\";\ntests[\"Customer number is returned correctly\"] = respData.CUST_NO === data.custNo;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433788073300,
			"name": "DELETE CardOnFile",
			"description": "Should fail",
			"collectionId": "a62ec0cd-d78a-ada8-b903-49c9ed80f830",
			"rawModeData": ""
		}
	]
}