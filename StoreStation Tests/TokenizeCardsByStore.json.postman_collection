{
	"id": "1b6ad827-924c-e01f-ef91-d3f6999ce358",
	"name": "TokenizeCardsByStore",
	"description": "1) Add customer to store MAIN (non-secure pay store) with card on file\n2) Edit customer to store 100 (secure pay store)\n3) Call tokenize status check on that store\n4) Tokenize that store - response has the status check.\n\nThis test is valid for 846 and 85.",
	"order": [
		"f5fd1976-7861-46af-5a50-c1d2cd14cbea",
		"b6046085-0939-a70c-11b1-2e039c2815d8",
		"7cf3390c-ed88-5021-b587-000dc587ca05",
		"d8922cf6-d149-efbc-a45b-c30ed13b3f03",
		"dd2c2e25-2ebf-5cc4-8114-081d8df91939",
		"aff338ca-d334-07f7-303d-6a67ef87f347"
	],
	"folders": [],
	"timestamp": 1433770141560,
	"owner": "43287",
	"remoteLink": "",
	"public": false,
	"createdAt": 1433770141560,
	"updatedAt": 1433770141560,
	"synced": false,
	"requests": [
		{
			"id": "7cf3390c-ed88-5021-b587-000dc587ca05",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{CustNo}}/CARD",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "tests[\"Successful POST request\"] = responseCode.code === 201;\n\nvar respData = JSON.parse(responseBody);\ntests[\"Reference is set\"] = respData.reference === \"Customer\";\ntests[\"Customer number is returned correctly\"] = respData.CUST_NO === environment.CustNo;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433777026862,
			"name": "POST CardOnFile copy",
			"description": "",
			"collectionId": "1b6ad827-924c-e01f-ef91-d3f6999ce358",
			"synced": false,
			"rawModeData": "{\"AR_CUST_CARD\":{ \n  \n  \"CARD_DESCR\": \"Mark2\",\n  \"DEFAULT_CARD\": \"N\",\n  \"PAY_COD\": \"VISA\",\n  \"CARD_EXP_DAT\": \"1/1/2018\",\n  \"CARD_NO\": \"4275330012345675\",\n  \"CARD_NAM\": \"Blooper\"\n}}"
		},
		{
			"id": "aff338ca-d334-07f7-303d-6a67ef87f347",
			"headers": "Authorization: {{Authorization}}\n",
			"url": "{{protocol}}://{{server}}:{{port}}/Store/{{SEC_PAY_STR}}/Tokenize",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "params",
			"version": 2,
			"tests": "var respData = JSON.parse(responseBody);\n\ntests[\"Status code is 201\"] = responseCode.code === 201;\n\ntests[\"TokenizedCount Increased by NonTokenCount+1\"] = (parseInt(environment.TokenCount)+parseInt(environment.NonTokenCount)+1) === respData.TokenizedCount;\ntests[\"NonTokenCount is 0\"] = 0 === respData.NonTokenizedCount;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433783887997,
			"name": "Tokenize Store",
			"description": "",
			"collectionId": "1b6ad827-924c-e01f-ef91-d3f6999ce358",
			"synced": false
		},
		{
			"owner": "43287",
			"lastUpdatedBy": "43287",
			"lastRevision": 8640030,
			"history": null,
			"folder": null,
			"collection": "1b6ad827-924c-e01f-ef91-d3f6999ce358",
			"id": "b6046085-0939-a70c-11b1-2e039c2815d8",
			"name": "POST Customer",
			"dataMode": "raw",
			"data": [],
			"descriptionFormat": null,
			"description": "",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"method": "POST",
			"pathVariables": {},
			"url": "{{protocol}}://{{server}}:{{port}}/Customer",
			"preRequestScript": "",
			"tests": "var respData = JSON.parse(responseBody);\n\ntests[\"Successful POST request\"] = responseCode.code === 201;\n\npostman.setEnvironmentVariable(\"CustNo\", respData.CUST_NO);",
			"version": 2,
			"currentHelper": "normal",
			"helperAttributes": "{}",
			"createdAt": "2015-06-08T14:30:52.000Z",
			"updatedAt": "2015-06-08T14:55:56.000Z",
			"collectionId": "1b6ad827-924c-e01f-ef91-d3f6999ce358",
			"synced": false,
			"rawModeData": "{\r\n  \"AR_CUST\": {\r\n    \"CUST_TYP\": \"C\",\r\n    \"NAM\": \"Happy Gilmore\",\r\n    \"FST_NAM\": \"Happy\",\r\n    \"LST_NAM\": \"Gilmore\",\r\n    \"SALUTATION\": \"Mr.\",\r\n    \"CUST_NAM_TYP\": \"P\",\r\n    \"SLS_REP\": \"MGR\",\r\n    \"STR_ID\": \"{{NON_SEC_PAY}}\"\r\n  }\r\n}"
		},
		{
			"id": "d8922cf6-d149-efbc-a45b-c30ed13b3f03",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{CustNo}}",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "PATCH",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "var respData = JSON.parse(responseBody);\n\ntests[\"Successful POST request\"] = responseCode.code === 201;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433776062921,
			"name": "PATCH Customer STR to Secure Pay",
			"description": "",
			"collectionId": "1b6ad827-924c-e01f-ef91-d3f6999ce358",
			"synced": false,
			"rawModeData": "{\r\n  \"AR_CUST\": {\r\n    \"STR_ID\": \"{{SEC_PAY_STR}}\"\r\n  }\r\n}"
		},
		{
			"id": "dd2c2e25-2ebf-5cc4-8114-081d8df91939",
			"headers": "Authorization: {{Authorization}}\n",
			"url": "{{protocol}}://{{server}}:{{port}}/Store/{{SEC_PAY_STR}}/Tokenize",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "GET",
			"data": [],
			"dataMode": "params",
			"version": 2,
			"tests": "var respData = JSON.parse(responseBody);\n\ntests[\"Status code is 200\"] = responseCode.code === 200;\n\ntests[\"TokenizedCount No Change\"] = parseInt(environment.TokenCount) === respData.TokenizedCount;\ntests[\"NonTokenCount Increased by 1\"] = (parseInt(environment.NonTokenCount) + 1) === respData.NonTokenizedCount;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433783882012,
			"name": "GET Token Status End",
			"description": "",
			"collectionId": "1b6ad827-924c-e01f-ef91-d3f6999ce358",
			"synced": false
		},
		{
			"id": "f5fd1976-7861-46af-5a50-c1d2cd14cbea",
			"headers": "Authorization: {{Authorization}}\n",
			"url": "{{protocol}}://{{server}}:{{port}}/Store/{{SEC_PAY_STR}}/Tokenize",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "GET",
			"data": [],
			"dataMode": "params",
			"version": 2,
			"tests": "var respData = JSON.parse(responseBody);\n\ntests[\"Status code is 200\"] = responseCode.code === 200;\n\npostman.setEnvironmentVariable(\"TokenCount\", respData.TokenizedCount);\npostman.setEnvironmentVariable(\"NonTokenCount\", respData.NonTokenizedCount);\n\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433783867387,
			"name": "GET Token Status Start",
			"description": "",
			"collectionId": "1b6ad827-924c-e01f-ef91-d3f6999ce358",
			"synced": false
		}
	]
}