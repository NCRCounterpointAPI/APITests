{
	"id": "0de07bee-5815-b91e-d71f-1c3f984139b3",
	"name": "TokenizeCardsByStore85",
	"description": "1) Add customer to store MAIN (non-secure pay store) with multiple card on file\n2) Edit customer to store 100 (secure pay store)\n3) Call tokenize status check on that store\n4) Tokenize that store - response has the status check.\n\nThis test is valid for 85 only since 846 did not support multiple card on file.",
	"order": [
		"e6cd49f5-04c5-feff-4ce1-d4d5c6aca075",
		"26eefa69-59d3-8f8e-9bba-ed6a2a6389db",
		"29c369b7-821f-8067-7a0e-69572ef68eaf",
		"3876c879-4986-72bb-8294-b3280f1c5752",
		"361d55b7-ed85-84ba-2544-bfbcd508ee2f",
		"6ccd0f9d-c165-bbb1-4142-49ff9786d3ef",
		"946181fc-eb1a-44ee-f2f2-a2f272d2ef10"
	],
	"folders": [],
	"timestamp": 1433784369148,
	"owner": "43287",
	"remoteLink": "",
	"public": false,
	"createdAt": null,
	"updatedAt": null,
	"synced": false,
	"requests": [
		{
			"id": "26eefa69-59d3-8f8e-9bba-ed6a2a6389db",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/Customer",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "var respData = JSON.parse(responseBody);\n\ntests[\"Successful POST request\"] = responseCode.code === 201;\n\npostman.setEnvironmentVariable(\"CustNo\", respData.CUST_NO);",
			"currentHelper": "normal",
			"helperAttributes": "{}",
			"time": 1433775051065,
			"name": "POST Customer",
			"description": "",
			"collectionId": "0de07bee-5815-b91e-d71f-1c3f984139b3",
			"synced": false,
			"owner": "43287",
			"lastUpdatedBy": "43287",
			"lastRevision": 8639688,
			"history": null,
			"collection": "0de07bee-5815-b91e-d71f-1c3f984139b3",
			"descriptionFormat": null,
			"createdAt": "2015-06-08T14:30:52.000Z",
			"updatedAt": "2015-06-08T14:50:55.000Z",
			"collectionOwner": 0,
			"rawModeData": "{\r\n  \"AR_CUST\": {\r\n    \"CUST_TYP\": \"C\",\r\n    \"NAM\": \"Happy Gilmore\",\r\n    \"FST_NAM\": \"Happy\",\r\n    \"LST_NAM\": \"Gilmore\",\r\n    \"SALUTATION\": \"Mr.\",\r\n    \"CUST_NAM_TYP\": \"P\",\r\n    \"SLS_REP\": \"MGR\",\r\n    \"STR_ID\": \"{{NON_SEC_PAY}}\"\r\n  }\r\n}"
		},
		{
			"id": "29c369b7-821f-8067-7a0e-69572ef68eaf",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{CustNo}}/CARD",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "tests[\"Successful POST request\"] = responseCode.code === 201;\n\nvar respData = JSON.parse(responseBody);\ntests[\"Reference is set\"] = respData.reference === \"Customer\";\ntests[\"Customer number is returned correctly\"] = respData.CUST_NO === environment.CustNo;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433784596159,
			"name": "POST CardOnFile",
			"description": "",
			"collectionId": "0de07bee-5815-b91e-d71f-1c3f984139b3",
			"synced": false,
			"rawModeData": "{\"AR_CUST_CARD\":{ \n  \n  \"CARD_DESCR\": \"Test1\",\n  \"DEFAULT_CARD\": \"N\",\n  \"PAY_COD\": \"VISA\",\n  \"CARD_EXP_DAT\": \"1/1/2018\",\n  \"CARD_NO\": \"4275330012345675\",\n  \"CARD_NAM\": \"Blooper\"\n}}"
		},
		{
			"id": "361d55b7-ed85-84ba-2544-bfbcd508ee2f",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{CustNo}}",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "PATCH",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "var respData = JSON.parse(responseBody);\n\ntests[\"Successful POST request\"] = responseCode.code === 201;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433776062921,
			"name": "PATCH Customer STR to Secure Pay",
			"description": "",
			"collectionId": "0de07bee-5815-b91e-d71f-1c3f984139b3",
			"synced": false,
			"owner": "43287",
			"collection": "0de07bee-5815-b91e-d71f-1c3f984139b3",
			"collectionOwner": 0,
			"rawModeData": "{\r\n  \"AR_CUST\": {\r\n    \"STR_ID\": \"{{SEC_PAY_STR}}\"\r\n  }\r\n}"
		},
		{
			"id": "3876c879-4986-72bb-8294-b3280f1c5752",
			"headers": "Authorization: {{Authorization}}\nAPIKey: {{APIKey}}\nContent-Type: application/json\n",
			"url": "{{protocol}}://{{server}}:{{port}}/customer/{{CustNo}}/CARD",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "tests[\"Successful POST request\"] = responseCode.code === 201;\n\nvar respData = JSON.parse(responseBody);\ntests[\"Reference is set\"] = respData.reference === \"Customer\";\ntests[\"Customer number is returned correctly\"] = respData.CUST_NO === environment.CustNo;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433784586541,
			"name": "POST CardOnFile 2",
			"description": "",
			"collectionId": "0de07bee-5815-b91e-d71f-1c3f984139b3",
			"synced": false,
			"rawModeData": "{\"AR_CUST_CARD\":{ \n  \n  \"CARD_DESCR\": \"Test2\",\n  \"DEFAULT_CARD\": \"N\",\n  \"PAY_COD\": \"VISA\",\n  \"CARD_EXP_DAT\": \"1/1/2018\",\n  \"CARD_NO\": \"4275330012345675\",\n  \"CARD_NAM\": \"Blooper2\"\n}}"
		},
		{
			"id": "6ccd0f9d-c165-bbb1-4142-49ff9786d3ef",
			"headers": "Authorization: {{Authorization}}\n",
			"url": "{{protocol}}://{{server}}:{{port}}/Store/{{SEC_PAY_STR}}/Tokenize",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "GET",
			"data": [],
			"dataMode": "params",
			"version": 2,
			"tests": "var respData = JSON.parse(responseBody);\n\ntests[\"Status code is 200\"] = responseCode.code === 200;\n\ntests[\"TokenizedCount No Change\"] = parseInt(environment.TokenCount) === respData.TokenizedCount;\ntests[\"NonTokenCount Increased by 2\"] = (parseInt(environment.NonTokenCount) + 2) === respData.NonTokenizedCount;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433784728305,
			"name": "GET Token Status End",
			"description": "",
			"collectionId": "0de07bee-5815-b91e-d71f-1c3f984139b3",
			"synced": false
		},
		{
			"id": "946181fc-eb1a-44ee-f2f2-a2f272d2ef10",
			"headers": "Authorization: {{Authorization}}\n",
			"url": "{{protocol}}://{{server}}:{{port}}/Store/{{SEC_PAY_STR}}/Tokenize",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "params",
			"version": 2,
			"tests": "var respData = JSON.parse(responseBody);\n\ntests[\"Status code is 201\"] = responseCode.code === 201;\n\ntests[\"TokenizedCount Increased by NonTokenCount+2\"] = (parseInt(environment.TokenCount)+parseInt(environment.NonTokenCount)+2) === respData.TokenizedCount;\ntests[\"NonTokenCount is 0\"] = 0 === respData.NonTokenizedCount;",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433784741727,
			"name": "Tokenize Store",
			"description": "",
			"collectionId": "0de07bee-5815-b91e-d71f-1c3f984139b3",
			"synced": false
		},
		{
			"id": "e6cd49f5-04c5-feff-4ce1-d4d5c6aca075",
			"headers": "Authorization: {{Authorization}}\n",
			"url": "{{protocol}}://{{server}}:{{port}}/Store/{{SEC_PAY_STR}}/Tokenize",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "GET",
			"data": [],
			"dataMode": "params",
			"version": 2,
			"tests": "var respData = JSON.parse(responseBody);\n\ntests[\"Status code is 200\"] = responseCode.code === 200;\n\npostman.setEnvironmentVariable(\"TokenCount\", respData.TokenizedCount);\npostman.setEnvironmentVariable(\"NonTokenCount\", respData.NonTokenizedCount);\n\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1433783867387,
			"name": "GET Token Status Start",
			"description": "",
			"collectionId": "0de07bee-5815-b91e-d71f-1c3f984139b3",
			"synced": false,
			"owner": "43287",
			"collection": "0de07bee-5815-b91e-d71f-1c3f984139b3",
			"collectionOwner": 0
		}
	]
}